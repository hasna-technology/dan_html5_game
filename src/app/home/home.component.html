<!--<div class="image-sequence">
  <div class="img_div" *ngFor="let item of numbers" [hidden]="item != image_no" [ngStyle]="{'background-image': 'url(' + imagepath + item + '.jpg' +')'}"></div>
</div>
 <div id="homepage" (document:mousemove)="onMouseMove($event)">-->
<div id="homepage" style="background-image: url('assets/image/bg_01.180.png');" [ngClass]="{'blur': panel == true}">

  <div class="container">
    <div class="full-hg flex">
      <div class="vertically_center">
        <h2 class="game-title mt-5 animate font-thin">
          {{service._content['welcome']}} <span class="font-light">{{service._content['game']}}</span>
        </h2>
        <div class="choose_language mt-5">
          <div class="title white_75" (click)="show_list = !show_list">
            {{selectedLang == undefined ? service._content['choose_lang'] : getLanguage(selectedLang)}}
          </div>
          <div class="body">
            <div class="list-group" *ngIf="show_list == true">
              <a *ngFor="let lang of languages" class="list-group-item list-group-item-action"
                (click)="setContent(lang.code)">{{lang.name}}</a>
            </div>
          </div>
        </div>
        <div class="mt-5" *ngIf="step == 'step_2' && show_list == false" [@fallIn]>
          <div>
            <h3 class="font-thin">{{service._content['your_task']}}</h3>
            <p class="mt-3 mb-0 font-light font-medium" [innerHTML]="service._content['txt1']"></p>
          </div>
          <div class="mt-5">
            <a href='#' (click)="goto('notes')" class="mb-0 italic font-light">{{service._content['instr']}}</a><br>
            <button class="btn btn-primary rounded-pill uppercase mt-3 font-light"
              [innerHTML]="service._content['next']" (click)="goto('step_3')"></button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="dark_bg" *ngIf="panel == true" [@fallIn]>
  <div class="panel">

    <div class="step_3 text-center" *ngIf="step == 'step_3'">
      <div class="back" (click)="goto('step_2')">
        <img src="assets/image/back.svg" width="80" height="80" alt="">
      </div>

      <h2 class="title">{{service._content['select_system']}}</h2>
      <div class="content">
        <div class="center-content">
          <button class="btn btn-xl btn-outline-grey  rounded-pill btn-wide" (click)="goto('step_4a')"
            [ngClass]="{'bg-green' : getCompletedCount('mbp') == 4}">{{service._content['cold_room']}}</button>
          <button class="btn btn-xl btn-outline-grey  rounded-pill btn-wide" (click)="goto('step_4b')"
            [ngClass]="{'bg-green' : getCompletedCount('lbp') == 2}">{{service._content['freezer_room']}}</button>
        </div>

      </div>
    </div>

    <div class="step_4a text-center" *ngIf="step == 'step_4a'">
      <div class="back" (click)="goto('step_3')">
        <img src="assets/image/back.svg" width="80" height="80" alt="">
      </div>
      <div [@fallIn]>
        <h2 class="title">{{service._content['select_new']}}</h2>
        <div class="content">
          <p class="font-thin biggest-text">{{service._content['cold_room']}}</p>
          <br>
          <div class="flex-row">
            <div class="refrigerant mr-1" *ngFor="let item of mbp_ref" (click)="selected_ref = item;goto('step_5')">
              <div class="">
                <img class="cylinder" src="assets/image/{{item.name}}.svg" alt=""><br>
                <img class="shadow_1" src="assets/image/shadow.png" alt="">
              </div>
              <div class="button btn btn-outline-grey rounded-pill btn-ref"
                [ngClass]="{'bg-green' : item.completed == true}">
                {{item.name}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="step_4b text-center" *ngIf="step == 'step_4b'">
      <div class="back" (click)="goto('step_3')">
        <img src="assets/image/back.svg" width="80" height="80" alt="">
      </div>
      <div [@fallIn]>
        <h2 class="title">{{service._content['select_new']}}</h2>
        <div class="content">
          <p class="font-thin biggest-text">{{service._content['freezer_room']}}</p>
          <br>
          <div class="flex-row">
            <div class="refrigerant mr-1" *ngFor="let item of lbp_ref" (click)="selected_ref = item;goto('step_5')">
              <div class="">
                <img class="cylinder" src="assets/image/{{item.name}}.svg" alt=""><br>
                <img class="shadow_1" src="assets/image/shadow.png" alt="">
              </div>
              <div class="button btn btn-outline-grey rounded-pill btn-ref"
                [ngClass]="{'bg-green' : item.completed == true}">
                {{item.name}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="text-center" *ngIf="step == 'step_5'">
      <div class="back" (click)="goto('step_3')">
        <img src="assets/image/back.svg" width="80" height="80" alt="">
      </div>
      <div [@fallIn]>
        <div class="text-center step5_cylinder">
          <img class="cylinder" src="assets/image/{{selected_ref.name}}.svg" alt=""><br>
          <h2>{{selected_ref.name}}</h2>
        </div>
        <h2 class="font-light mt-5 font-2-5">{{service._content['determine']}}</h2>
        <p class="max-width-1">{{service._content['to_obtain']}}
        </p>
        <br>
        <button class="button btn btn-red btn-large rounded-pill " (click)="ref_click(selected_ref)">{{service._content['play']}}</button>
      </div>
    </div>

    <div *ngIf="step == 'notes'" [@fallIn]>
      <div class="back" (click)="goto('step_2')">
        <img src="assets/image/back.svg" width="80" height="80" alt="">
      </div>
      <h2 class="title text-center">{{service._content['rules_title']}}</h2>

      <div class="content text-left">
        <div *ngFor="let item of service._content['rules']">
          <div [innerHtml]="item"></div>
        </div>

      </div>


    </div>

  </div>
</div>

<div class="indicator">
  <div class="dot" [ngClass]="{'active' : step == 'step_1' || step == 'step_2'}"></div>
  <div class="dot" [ngClass]="{'active' : step == 'step_3'}"></div>
  <div class="dot" [ngClass]="{'active' : step == 'step_4a' || step == 'step_4b'}"></div>
  <div class="dot" [ngClass]="{'active' : step == 'step_5'}"></div>
</div>
